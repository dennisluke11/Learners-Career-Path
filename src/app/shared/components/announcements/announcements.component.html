<section class="announcements-container" aria-labelledby="announcements-heading">
  <!-- Loading State -->
  <div *ngIf="isLoading()" class="loading-state" role="status" aria-live="polite" aria-busy="true">
    <p>Loading announcements...</p>
  </div>

  <!-- No Announcements State -->
  <div *ngIf="!isLoading() && announcements().length === 0" class="no-announcements" role="status" aria-live="polite">
    <p>No announcements at this time.</p>
  </div>

  <!-- Announcements Header -->
  <div *ngIf="!isLoading() && announcements().length > 0" class="announcements-header">
    <h3 id="announcements-heading">
      <span aria-hidden="true">ðŸ“¢</span>
      <span class="sr-only">Announcements section: </span>
      Announcements
    </h3>
    <span class="announcements-count" [attr.aria-label]="announcements().length + ' announcements'">{{ announcements().length }}</span>
  </div>

  <!-- Announcements List -->
  <div *ngIf="!isLoading()" class="announcements-list" [class.scrollable]="hasMoreAnnouncements()">
    <div 
      *ngFor="let announcement of getVisibleAnnouncements()" 
      class="announcement-card"
      [class.paid]="announcement.isPaid"
      (click)="openDialog(announcement)"
      role="button"
      tabindex="0"
      [attr.aria-label]="'View announcement: ' + announcement.title"
      (keydown.enter)="openDialog(announcement)"
      (keydown.space)="openDialog(announcement); $event.preventDefault()">
      
      <!-- Announcement Header -->
      <div class="announcement-header">
        <div class="announcement-info">
          <span class="type-icon" aria-hidden="true">{{ getTypeIcon(announcement.type) }}</span>
          <div class="announcement-details">
            <h4 class="announcement-title">{{ announcement.title }}</h4>
            <div class="announcement-meta">
              <span class="type-label">{{ getTypeLabel(announcement.type) }}</span>
              <span *ngIf="announcement.isPaid" class="paid-badge" aria-label="Sponsored announcement">Sponsored</span>
            </div>
          </div>
        </div>
        <span class="click-hint" aria-hidden="true">Click to view â†’</span>
      </div>
    </div>
  </div>

  <!-- Dialog -->
  <app-announcement-dialog
    *ngIf="selectedAnnouncement()"
    [announcement]="selectedAnnouncement()"
    [isOpen]="showDialog()"
    [selectedCountry]="selectedCountry?.code"
    [selectedCareer]="selectedCareer?.name"
    (closeDialog)="closeDialog()">
  </app-announcement-dialog>
</section>




